Data Science Homework 2
================
ak5357
2024-09-26

# Problem 1

### *NYC Transit Data*

**Loading and cleaning the data, keeping only the following variables:**

- Line
- Station Name
- Station Latitude and Longitude
- Routes Served
- Entry
- Vending
- Entrance Type
- ADA Compliance

``` r
transit_df = 
  read_csv("data/NYC_Transit_Subway_Entrance_And_Exit_Data.csv", #load data
           na = c("NA", " ", "")) |> #define possible NA values
  janitor::clean_names() |> #standardize column names
  select(line, starts_with("station"), -station_location, #select focus columns
         starts_with("route"), entry, vending, entrance_type, ada) |> 
  mutate(
    entry = case_match( #convert entry column from char to lgl
      entry,
      "YES" ~ TRUE,
      "NO" ~ FALSE,
    )) |> 
  mutate( #ensure all route columns are char type for consistency
    across(
      starts_with("route"), as.character
    ))
```

The dataset contains information related to each entrance and exit for
each subway station in New York City.

(Dear Reader: After much consideration, I have come to a difficult
decision… Since this question doesn’t count for points, I will forego
further explanation about the dataset’s variables. My sincere apologies.
*tips hat*)

The data are not tidy, since there is significant redundance among the
columns, specifically those related to the routes.

**Answering questions with data.**

``` r
num_distinct_stations = transit_df |> 
  distinct(line, station_name) |> 
  nrow()

num_ada_stations = transit_df |> 
  filter(ada == TRUE) |> 
  nrow()

p_no_vending_yes_entry = transit_df |> 
  summarize(
    proportion = mean(vending == "NO" & entry == TRUE)
    ) |> 
  round(4)
```

Here are some interesting facts about the data:

- The dataset contains information about **465** distinct stations.
- Of the 1868 entrances and exists documented in the dataset, only
  **468** are ADA compliant.
- The proportion of station entrances / exits without vending that allow
  entrance is **0.0369**, or **3.69**%.

**Reformatting data so that route number and route name are distinct
variables.**

``` r
transit_dr_by_route = transit_df |> 
  pivot_longer(
    cols = starts_with("route"),
    names_to = "route_number",
    values_to = "route_name",
    names_prefix = "route"
  ) |> 
  filter(!is.na(route_name))
```

**Answering more questions with data.**

``` r
n_distinct_A_stations = transit_dr_by_route |> 
  filter(route_name == "A")  |> 
  distinct(line, station_name) |> 
  nrow()

n_ada_A_stations = transit_dr_by_route |> 
  filter(route_name == "A" & ada == TRUE) |> 
  distinct(line, station_name) |> 
  nrow()
```

Here are some more interesting facts about the data:

- There are **60** distinct stations that serve the A train.
- Of the stations that serve the A train, only **17** are ADA compliant.

# Problem 2

### *Mr. Trash Wheel*
